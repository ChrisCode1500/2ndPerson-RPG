[gd_scene load_steps=19 format=3 uid="uid://bsflnvy5krdh6"]

[ext_resource type="Script" path="res://player.gd" id="1_chkq1"]
[ext_resource type="Script" path="res://CamRoot.gd" id="2_5275h"]
[ext_resource type="Resource" uid="uid://b2td1561ccpoj" path="res://Movements/stand.tres" id="2_h8qsp"]
[ext_resource type="Resource" uid="uid://wmqmxex734c7" path="res://Movements/walk.tres" id="3_2tpk6"]
[ext_resource type="Resource" uid="uid://5y7dkv4t3gb3" path="res://Movements/run.tres" id="4_02cjq"]
[ext_resource type="Resource" uid="uid://h5t1wybfwika" path="res://Movements/sprint.tres" id="5_2rcp2"]
[ext_resource type="Script" path="res://Movement_controller.gd" id="6_r5n5c"]
[ext_resource type="Script" path="res://Animation__controller.gd" id="7_77rk5"]
[ext_resource type="PackedScene" uid="uid://c14app66mqu8m" path="res://Assets/BETTERTESTCHARACTERSTILLIGNORE.glb" id="7_xchd5"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_sn6y7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y02h5"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gh6im"]
animation = &"Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lgimv"]
animation = &"SPRINT"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sku3r"]
animation = &"SPRINT"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_kukkx"]
blend_point_0/node = SubResource("AnimationNodeAnimation_y02h5")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_gh6im")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_lgimv")
blend_point_2/pos = 2.0
blend_point_3/node = SubResource("AnimationNodeAnimation_sku3r")
blend_point_3/pos = 3.0
min_space = 0.0
max_space = 3.0
snap = 1.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_xyx4j"]
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_sn6y7")
nodes/TimeScale/position = Vector2(420, 80)
nodes/movement_state/node = SubResource("AnimationNodeBlendSpace1D_kukkx")
nodes/movement_state/position = Vector2(180, 80)
nodes/output/position = Vector2(700, 140)
node_connections = [&"TimeScale", 0, &"movement_state", &"output", 0, &"TimeScale"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hspt3"]

[sub_resource type="SphereShape3D" id="SphereShape3D_5v081"]
radius = 0.7

[node name="player" type="CharacterBody3D"]
script = ExtResource("1_chkq1")
movement_states = {
"run": ExtResource("4_02cjq"),
"sprint": ExtResource("5_2rcp2"),
"stand": ExtResource("2_h8qsp"),
"walk": ExtResource("3_2tpk6")
}

[node name="Movement_controller" type="Node" parent="." node_paths=PackedStringArray("player", "model_root")]
script = ExtResource("6_r5n5c")
player = NodePath("..")
model_root = NodePath("../ModelRoot")

[node name="Animation__controller" type="Node" parent="." node_paths=PackedStringArray("animation_tree", "player")]
script = ExtResource("7_77rk5")
animation_tree = NodePath("../ModelRoot/AnimationTree")
player = NodePath("..")

[node name="ModelRoot" type="Node3D" parent="."]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, -1, 0)

[node name="BETTERTESTCHARACTERSTILLIGNORE" parent="ModelRoot" instance=ExtResource("7_xchd5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00531897, 0, -3.71933e-05)

[node name="Skeleton3D" parent="ModelRoot/BETTERTESTCHARACTERSTILLIGNORE/Armature" index="0"]
bones/0/position = Vector3(1.56708, -0.0732155, -96.9768)
bones/0/rotation = Quaternion(-0.760646, -0.0175898, -0.0139075, 0.64878)
bones/1/rotation = Quaternion(0.0348621, 0.0306272, 0.00465354, 0.998912)
bones/2/rotation = Quaternion(0.0829583, 0.00497439, -0.0014467, 0.99654)
bones/3/rotation = Quaternion(0.14013, 0.00479723, -0.00183522, 0.99012)
bones/4/rotation = Quaternion(0.0859691, -0.0157837, -0.00105339, 0.996172)
bones/5/rotation = Quaternion(0.146371, -0.0394961, 0.0345419, 0.987837)
bones/7/rotation = Quaternion(-0.563216, -0.414081, 0.596442, -0.394438)
bones/8/position = Vector3(-1.82646e-06, 12.9223, -9.12308e-06)
bones/8/rotation = Quaternion(0.42804, 0.0292399, 0.203342, 0.880102)
bones/9/position = Vector3(5.23248e-07, 27.4047, 2.82475e-06)
bones/9/rotation = Quaternion(5.87942e-07, -1.79422e-07, 0.178257, 0.983984)
bones/10/position = Vector3(-2.54933e-06, 27.6145, 3.43781e-07)
bones/10/rotation = Quaternion(0.0198299, 0.0221358, 0.0176395, 0.999403)
bones/11/rotation = Quaternion(0.0413582, 0.195264, 0.215358, 0.95592)
bones/12/position = Vector3(3.59246e-07, 4.74499, 1.5424e-05)
bones/12/rotation = Quaternion(0.118997, 0.0253231, -0.0901456, 0.98847)
bones/13/position = Vector3(3.09193e-06, 4.38213, 5.7376e-06)
bones/13/rotation = Quaternion(-0.0469987, -0.0602909, -0.221626, 0.972131)
bones/14/position = Vector3(-5.37669e-06, 3.45907, -6.69283e-07)
bones/15/position = Vector3(-2.82204, 12.2666, 0.231822)
bones/15/rotation = Quaternion(0.175545, -0.00563748, -0.0294542, 0.984015)
bones/16/position = Vector3(3.32981e-07, 3.89196, 4.44965e-06)
bones/16/rotation = Quaternion(0.271348, 0.000309024, -0.0295048, 0.962029)
bones/17/position = Vector3(1.03534e-06, 3.41516, 8.94976e-06)
bones/17/rotation = Quaternion(0.319423, 0.000393508, -0.0344131, 0.946987)
bones/18/position = Vector3(-5.07605e-07, 3.07799, 7.79903e-07)
bones/19/position = Vector3(-1.28245e-05, 12.7755, -5.80915e-06)
bones/19/rotation = Quaternion(0.177124, 0.00043263, -0.0637383, 0.982122)
bones/20/position = Vector3(1.32317e-07, 3.61396, -5.96606e-07)
bones/20/rotation = Quaternion(0.279959, 0.000352958, -0.0307918, 0.959518)
bones/21/rotation = Quaternion(0.36354, 0.000537007, -0.0393167, 0.930748)
bones/23/rotation = Quaternion(0.174998, 0.00116031, -0.0700218, 0.982075)
bones/24/position = Vector3(-6.40507e-08, 3.60118, -1.563e-06)
bones/24/rotation = Quaternion(0.440202, 0.000870076, -0.0480713, 0.896611)
bones/25/position = Vector3(2.01077e-06, 3.30733, 3.77092e-06)
bones/25/rotation = Quaternion(0.336953, 0.000492109, -0.0367402, 0.940804)
bones/26/position = Vector3(-2.35017e-05, 3.66012, 1.94677e-05)
bones/27/position = Vector3(4.72584, 10.9082, 0.226132)
bones/27/rotation = Quaternion(0.262603, -0.000530709, -0.053426, 0.963424)
bones/28/position = Vector3(-6.64864e-07, 4.13666, 4.24918e-06)
bones/28/rotation = Quaternion(0.332274, 0.00412467, -0.0310771, 0.942662)
bones/29/position = Vector3(1.26128e-06, 2.59482, -1.99418e-06)
bones/29/rotation = Quaternion(0.364118, 0.000540231, -0.0395022, 0.930515)
bones/30/position = Vector3(1.75908e-06, 2.92387, 1.04901e-06)
bones/31/rotation = Quaternion(0.568575, -0.404424, 0.615849, 0.365915)
bones/32/position = Vector3(1.61447e-06, 12.9223, -1.09893e-05)
bones/32/rotation = Quaternion(0.439319, -0.00531273, -0.185322, 0.878992)
bones/33/position = Vector3(6.48768e-07, 27.4047, 6.3386e-06)
bones/33/rotation = Quaternion(1.20467e-07, 9.42758e-08, -0.0845697, 0.996418)
bones/34/position = Vector3(1.52326e-05, 27.6145, 2.04815e-05)
bones/34/rotation = Quaternion(-0.012605, -0.0251595, -0.0378083, 0.998889)
bones/35/rotation = Quaternion(0.115063, 0.0589856, -0.223903, 0.965996)
bones/36/position = Vector3(3.47804e-06, 4.74498, -1.27875e-05)
bones/36/rotation = Quaternion(0.0741053, 0.00725297, 0.23268, 0.969699)
bones/37/position = Vector3(-3.08227e-06, 4.38213, -4.1818e-06)
bones/37/rotation = Quaternion(-0.0467495, 0.00573332, 0.187466, 0.981141)
bones/38/position = Vector3(1.36526e-05, 3.45906, -2.83199e-05)
bones/39/rotation = Quaternion(0.193138, 0.00375683, -0.0131581, 0.981076)
bones/40/rotation = Quaternion(0.325604, -0.000989273, 0.0309785, 0.944998)
bones/41/position = Vector3(-1.14463e-06, 3.41515, 9.74572e-07)
bones/41/rotation = Quaternion(0.347308, -0.00109138, 0.0327226, 0.937179)
bones/42/position = Vector3(9.06945e-07, 3.07798, 2.41369e-06)
bones/43/position = Vector3(1.63053e-05, 12.7755, 8.09735e-06)
bones/43/rotation = Quaternion(0.208103, 0.00579382, 0.00265934, 0.978086)
bones/44/rotation = Quaternion(0.38263, -0.00121452, 0.0353027, 0.923226)
bones/45/rotation = Quaternion(0.323656, -0.000951797, 0.0305674, 0.945681)
bones/46/position = Vector3(2.77201e-05, 3.68019, 7.21433e-06)
bones/47/position = Vector3(-2.21663, 12.147, -0.00998567)
bones/47/rotation = Quaternion(0.18756, 0.00360207, 0.0260332, 0.981901)
bones/48/position = Vector3(5.58727e-07, 3.6012, 3.84849e-07)
bones/48/rotation = Quaternion(0.435619, -0.0014577, 0.0395614, 0.89926)
bones/49/rotation = Quaternion(0.297644, -0.000838085, 0.0284935, 0.954251)
bones/51/position = Vector3(-4.72583, 10.9082, 0.226134)
bones/51/rotation = Quaternion(0.190594, 0.106491, 0.0706424, 0.973316)
bones/52/rotation = Quaternion(0.388374, -0.00132441, 0.0362393, 0.920788)
bones/53/position = Vector3(1.15098e-07, 2.59484, 1.54608e-06)
bones/53/rotation = Quaternion(0.332455, -0.001045, 0.0317553, 0.942584)
bones/54/position = Vector3(6.31125e-07, 2.92388, -9.1743e-06)
bones/55/rotation = Quaternion(0.0782125, 0.0242362, 0.995211, -0.0533978)
bones/56/rotation = Quaternion(-0.235065, 0.0651121, 0.0177075, 0.969635)
bones/57/rotation = Quaternion(0.641281, 0.0187628, -0.0171542, 0.766885)
bones/58/rotation = Quaternion(0.232303, -0.0325085, -0.0152816, 0.97198)
bones/60/rotation = Quaternion(-0.0512978, 0.127226, 0.990075, 0.0305491)
bones/61/rotation = Quaternion(-0.246077, -0.0713715, -0.0151462, 0.9665)
bones/62/rotation = Quaternion(0.52865, -0.0621386, 0.0433976, 0.84545)
bones/63/rotation = Quaternion(0.224417, 0.0355987, 0.016165, 0.973709)

[node name="AnimationTree" type="AnimationTree" parent="ModelRoot"]
root_node = NodePath("../BETTERTESTCHARACTERSTILLIGNORE")
tree_root = SubResource("AnimationNodeBlendTree_xyx4j")
anim_player = NodePath("../BETTERTESTCHARACTERSTILLIGNORE/AnimationPlayer")
parameters/TimeScale/scale = 1.0
parameters/movement_state/blend_position = 0.15991

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_hspt3")

[node name="CamRoot" type="Node3D" parent="."]
script = ExtResource("2_5275h")

[node name="CamYaw" type="Node3D" parent="CamRoot"]

[node name="CamPitch" type="Node3D" parent="CamRoot/CamYaw"]

[node name="SpringArm3D" type="SpringArm3D" parent="CamRoot/CamYaw/CamPitch"]
shape = SubResource("SphereShape3D_5v081")
spring_length = 2.5

[node name="Camera3D" type="Camera3D" parent="CamRoot/CamYaw/CamPitch/SpringArm3D"]
h_offset = 1.0
v_offset = 0.5

[connection signal="set_movement_direction" from="." to="Movement_controller" method="_on_set_movement_direction"]
[connection signal="set_movement_state" from="." to="Movement_controller" method="_on_set_movement_state"]
[connection signal="set_movement_state" from="." to="Animation__controller" method="_on_set_movement_state"]
[connection signal="set_cam_rotation" from="CamRoot" to="Movement_controller" method="_on_set_cam_rotation"]

[editable path="ModelRoot/BETTERTESTCHARACTERSTILLIGNORE"]
